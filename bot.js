// ============================================
// TELEGRAM Ğ‘ĞĞ¢ Ğ”Ğ›Ğ¯ ĞŸĞ ĞĞ”ĞĞ–Ğ£ ĞšĞ£Ğ Ğ¡Ğ†Ğ’
// ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€ Ğ—Ñ”Ñ€Ñ‰Ğ¸ĞºĞ¾Ğ² - Ğ†Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ Ğ· Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ
// ============================================

require('dotenv').config();
const TelegramBot = require('node-telegram-bot-api');
const OpenAI = require('openai');

// ============================================
// ĞĞĞ›ĞĞ¨Ğ¢Ğ£Ğ’ĞĞĞĞ¯
// ============================================

const TELEGRAM_BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN;
const OPENAI_API_KEY = process.env.OPENAI_API_KEY;
const ADMIN_CHAT_ID = process.env.ADMIN_CHAT_ID;

// ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ½Ğ°ÑĞ²Ğ½Ğ¾ÑÑ‚Ñ– ĞºĞ»ÑÑ‡Ñ–Ğ²
if (!TELEGRAM_BOT_TOKEN || !OPENAI_API_KEY || !ADMIN_CHAT_ID) {
  console.error('âŒ ĞŸĞĞœĞ˜Ğ›ĞšĞ: ĞĞµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ– ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ°!');
  console.error('Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ñ–Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» .env Ğ°Ğ±Ğ¾ Ğ´Ğ¾Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ– Ğ½Ğ° Ñ…Ğ¾ÑÑ‚Ğ¸Ğ½Ğ³Ñƒ:');
  console.error('- TELEGRAM_BOT_TOKEN');
  console.error('- OPENAI_API_KEY');
  console.error('- ADMIN_CHAT_ID');
  process.exit(1);
}

// ============================================
// Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞĞ˜Ğ™ ĞŸĞ ĞĞœĞŸĞ¢ Ğ”Ğ›Ğ¯ AI
// ============================================

const SYSTEM_PROMPT = `Ğ¢Ğ¸ - Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¸Ğ¹ AI-Ğ¿Ğ¾Ğ¼Ñ–Ñ‡Ğ½Ğ¸Ğº ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğ° Ğ—Ñ”Ñ€Ñ‰Ğ¸ĞºĞ¾Ğ²Ğ°, Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ğ¾Ğ³Ğ¾ Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ° Ğ· Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ.

Ğ¢Ğ’ĞĞ¯ Ğ ĞĞ›Ğ¬:
- Ğ”Ğ¾Ğ¿Ğ¾Ğ¼Ğ°Ğ³Ğ°Ñ”Ñˆ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ°Ğ¼ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸ ĞºÑƒÑ€Ñ Ğ°Ğ±Ğ¾ Ğ·Ğ¾ÑˆĞ¸Ñ‚
- Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ”Ñˆ Ğ½Ğ° Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ğ¾ Ñ– Ğ²Ğ²Ñ–Ñ‡Ğ»Ğ¸Ğ²Ğ¾
- ĞŸÑ€Ğ¸Ğ¹Ğ¼Ğ°Ñ”Ñˆ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ´Ğ°Ñ”Ñˆ Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ
- Ğ—Ğ°Ğ²Ğ¶Ğ´Ğ¸ Ğ¿Ğ¸ÑˆĞµÑˆ ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ Ğ¼Ğ¾Ğ²Ğ¾Ñ
- Ğ¡Ğ¿Ñ–Ğ»ĞºÑƒÑ”ÑˆÑÑ Ğ´Ñ€ÑƒĞ¶Ğ½ÑŒĞ¾, Ğ°Ğ»Ğµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ğ¾

ĞŸĞ ĞĞ”Ğ£ĞšĞ¢Ğ˜ Ğ¢Ğ ĞŸĞĞ¡Ğ˜Ğ›ĞĞĞĞ¯ ĞĞ ĞĞŸĞ›ĞĞ¢Ğ£:

ğŸ“š ĞšĞ£Ğ Ğ¡ "ĞŸĞ”Ğ  Ğ·Ğ° 220 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½"
Ğ’ÑÑ– ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ”Ğ¾Ñ€Ğ¾Ğ¶Ğ½ÑŒĞ¾Ğ³Ğ¾ Ğ ÑƒÑ…Ñƒ Ğ² ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¾Ğ¼Ñƒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ–. 1200+ ÑƒÑ‡Ğ½Ñ–Ğ², ÑĞµÑ€ĞµĞ´Ğ½Ñ Ğ¾Ñ†Ñ–Ğ½ĞºĞ° 4.9/5

â€¢ Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¸Ğ¹ (880 Ğ³Ñ€Ğ½) - 3 Ğ¼Ñ–ÑÑÑ†Ñ– Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b334a3c736096

â€¢ Pro (1090 Ğ³Ñ€Ğ½) - 1 Ñ€Ñ–Ğº + ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ñ–Ñ Ğ· ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğ¾Ğ¼
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b7c761ba3b562

â€¢ ĞŸÑ€ĞµĞ¼Ñ–ÑƒĞ¼ (3980 Ğ³Ñ€Ğ½) - 1 Ñ€Ñ–Ğº + ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ñ–Ñ â­ï¸ + Ğ Ğ¾Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b0da1f39a2d8a

ğŸš— ĞšĞ£Ğ Ğ¡ "10 ĞºÑ€Ğ¾ĞºÑ–Ğ² Ğ´Ğ¾ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ"
ĞŸĞ¾ĞºÑ€Ğ¾ĞºĞ¾Ğ²Ñ– Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ— Ğ²Ñ–Ğ´ Ñ€ÑƒÑˆĞ°Ğ½Ğ½Ñ Ğ´Ğ¾ Ğ¿Ğ°Ñ€ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ. Ğ”Ğ»Ñ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑ–Ğ²Ñ†Ñ–Ğ² Ñ‚Ğ° Ñ‚Ğ¸Ñ…, Ñ…Ñ‚Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ´Ğ¾ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ.

â€¢ Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¸Ğ¹ (580 Ğ³Ñ€Ğ½) - Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ ĞºÑƒÑ€Ñ (10 Ğ²Ñ–Ğ´ĞµĞ¾ÑƒÑ€Ğ¾ĞºÑ–Ğ²)
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b25b0a7fb5e2a

â€¢ Ğ— Ğ·Ğ¾ÑˆĞ¸Ñ‚Ğ¾Ğ¼ (820 Ğ³Ñ€Ğ½) - ĞºÑƒÑ€Ñ + Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/bacb504df3be5

â€¢ ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ (1880 Ğ³Ñ€Ğ½) - ĞºÑƒÑ€Ñ + Ğ·Ğ¾ÑˆĞ¸Ñ‚ + Ğ¼Ğ°Ñ‚ĞµÑ€Ñ–Ğ°Ğ»Ğ¸ Ğ¿Ğ¾ Ğ¿Ğ°Ñ€ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b1aa8f330060b

ğŸš¦ ĞšĞ£Ğ Ğ¡ "ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¿Ñ€Ğ¾Ñ—Ğ·Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚ÑŒ"
Ğ§Ñ–Ñ‚ĞºĞ¸Ğ¹ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ´Ñ–Ğ¹ Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¾Ñ—Ğ·Ğ´Ñ– Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ³Ğ¾ Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚Ñ. 6 Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ²Ñ–Ğ´ĞµĞ¾Ğ»ĞµĞºÑ†Ñ–Ğ¹.

â€¢ Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚ (480 Ğ³Ñ€Ğ½) - 6 Ğ²Ñ–Ğ´ĞµĞ¾Ğ»ĞµĞºÑ†Ñ–Ğ¹ + Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ + Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ—
  ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b858e7515c31a

ğŸ““ Ğ ĞĞ—Ğ£ĞœĞĞ˜Ğ™ Ğ—ĞĞ¨Ğ˜Ğ¢ Ğ· Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ²Ñ‡Ğ°Ğ½Ğ½Ñ (360 Ğ³Ñ€Ğ½)
120 ĞºĞ¾Ğ»ÑŒĞ¾Ñ€Ğ¾Ğ²Ğ¸Ñ… ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ğ¾Ğº Ğ· Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½ÑĞ¼Ğ¸, Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¿Ñ€Ğ¾Ñ—Ğ·Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚ÑŒ, Ğ¿Ğ¾Ñ€Ğ°Ğ´Ğ¸ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ.
Ğ¤Ğ†Ğ—Ğ˜Ğ§ĞĞ˜Ğ™ ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ - Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°!
ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/b3f8c85c5f5d1

ğŸ“˜ Ğ ĞĞ‘ĞĞ§Ğ˜Ğ™ Ğ—ĞĞ¨Ğ˜Ğ¢ Ğ· Ñ‚ĞµĞ¾Ñ€Ñ–Ñ— ĞŸĞ”Ğ  (370 Ğ³Ñ€Ğ½)
Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ²Ñ‡ĞµĞ½Ğ½Ñ Ñ‚ĞµĞ¾Ñ€Ñ–Ñ— ĞŸĞ”Ğ . ĞŸÑ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ´Ğ¾ Ñ–ÑĞ¿Ğ¸Ñ‚Ñƒ Ğ² Ğ¡ĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ğ¼Ñƒ Ñ†ĞµĞ½Ñ‚Ñ€Ñ– ĞœĞ’Ğ¡.
Ğ¤Ğ†Ğ—Ğ˜Ğ§ĞĞ˜Ğ™ ĞŸĞ ĞĞ”Ğ£ĞšĞ¢ - Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°!
ĞĞ¿Ğ»Ğ°Ñ‚Ğ°: https://secure.wayforpay.com/button/bf2727c6c9a6e

ĞĞ›Ğ“ĞĞ Ğ˜Ğ¢Ğœ Ğ ĞĞ‘ĞĞ¢Ğ˜:
1. ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚Ğ°Ğ¹ÑÑ Ñ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ¹, Ñ‰Ğ¾ Ñ†Ñ–ĞºĞ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ° (Ñ‚ĞµĞ¾Ñ€Ñ–Ñ ĞŸĞ”Ğ , Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğµ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ, Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚Ñ, Ğ·Ğ¾ÑˆĞ¸Ñ‚Ğ¸)
2. Ğ”Ñ–Ğ·Ğ½Ğ°Ğ¹ÑÑ Ñ€Ñ–Ğ²ĞµĞ½ÑŒ Ğ¿Ñ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸ (Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑ–Ğ²ĞµÑ†ÑŒ, Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ½Ñ, Ğ¿Ñ–ÑĞ»Ñ Ğ¿ĞµÑ€ĞµÑ€Ğ²Ğ¸)
3. Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞ¹ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ½Ğ¸Ğ¹ ĞºÑƒÑ€Ñ Ğ· Ğ¿Ğ¾ÑÑĞ½ĞµĞ½Ğ½ÑĞ¼ Ñ‡Ğ¾Ğ¼Ñƒ ÑĞ°Ğ¼Ğµ Ğ²Ñ–Ğ½
4. ĞšĞ¾Ğ»Ğ¸ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹ ĞºÑƒĞ¿Ğ¸Ñ‚Ğ¸ - Ğ½Ğ°Ğ´Ğ°Ğ¹ Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ
5. Ğ”Ğ»Ñ Ğ”Ğ Ğ£ĞšĞĞ’ĞĞĞ˜Ğ¥ Ğ—ĞĞ¨Ğ˜Ğ¢Ğ†Ğ’ Ğ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğ¾ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ¹:
   - ĞœÑ–ÑÑ‚Ğ¾ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸
   - Ğ’Ñ–Ğ´Ğ´Ñ–Ğ»ĞµĞ½Ğ½Ñ ĞĞ¾Ğ²Ğ¾Ñ— ĞŸĞ¾ÑˆÑ‚Ğ¸ (Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼)
   - Ğ¯ĞºÑ‰Ğ¾ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ¿Ğ¸Ñ‚Ğ°Ñ” - Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ñ– Ğ£ĞºÑ€Ğ¿Ğ¾ÑˆÑ‚Ñƒ
6. ĞŸĞ†Ğ¡Ğ›Ğ¯ Ğ½Ğ°Ğ´Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ - Ğ·Ğ°Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ğ½ÑƒĞ¹ Ğ¿Ñ–Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ÑÑ Ğ½Ğ° YouTube

Ğ’ĞĞ–Ğ›Ğ˜Ğ’Ğ Ğ†ĞĞ¤ĞĞ ĞœĞĞ¦Ğ†Ğ¯ ĞŸĞ Ğ ĞĞŸĞ›ĞĞ¢Ğ£:

Ğ”Ğ›Ğ¯ ĞĞĞ›ĞĞ™Ğ-ĞšĞ£Ğ Ğ¡Ğ†Ğ’:
"ĞŸÑ–ÑĞ»Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ ĞºÑƒÑ€ÑÑƒ Ğ½Ğ°Ğ´Ñ–Ğ¹Ğ´Ğµ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ½Ğ° Ğ²Ğ°ÑˆÑƒ ĞµĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ½Ğ½Ñƒ Ğ¿Ğ¾ÑˆÑ‚Ñƒ Ğ¿Ñ€Ğ¾Ñ‚ÑĞ³Ğ¾Ğ¼ ĞºÑ–Ğ»ÑŒĞºĞ¾Ñ… Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ‚Ğ°ĞºĞ¾Ğ¶ Ğ¿Ğ°Ğ¿ĞºÑƒ 'Ğ¡Ğ¿Ğ°Ğ¼' Ğ½Ğ° Ğ²ÑÑĞº Ğ²Ğ¸Ğ¿Ğ°Ğ´Ğ¾Ğº."

Ğ”Ğ›Ğ¯ Ğ”Ğ Ğ£ĞšĞĞ’ĞĞĞ˜Ğ¥ Ğ—ĞĞ¨Ğ˜Ğ¢Ğ†Ğ’:
"ĞŸÑ–ÑĞ»Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸ Ğ·Ğ¾ÑˆĞ¸Ñ‚ Ğ±ÑƒĞ´Ğµ Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ ĞĞ¾Ğ²Ğ¾Ñ ĞŸĞ¾ÑˆÑ‚Ğ¾Ñ Ğ¿Ñ€Ğ¾Ñ‚ÑĞ³Ğ¾Ğ¼ 3 Ñ€Ğ¾Ğ±Ğ¾Ñ‡Ğ¸Ñ… Ğ´Ğ½Ñ–Ğ². ĞœĞ¸ ĞĞ• Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ÑƒÑ”Ğ¼Ğ¾ Ğ¿Ñ–ÑĞ»Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸, Ñ‰Ğ¾Ğ± Ğ½Ğµ Ñ‚ÑƒÑ€Ğ±ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ²Ğ°Ñ Ğ·Ğ°Ğ¹Ğ²Ğ¸Ğ¹ Ñ€Ğ°Ğ·. Ğ¯ĞºÑ‰Ğ¾ Ñƒ Ğ²Ğ°Ñ Ñ” Ğ¾ÑĞ¾Ğ±Ğ»Ğ¸Ğ²Ñ– Ğ¿Ğ¾Ğ±Ğ°Ğ¶Ğ°Ğ½Ğ½Ñ Ğ´Ğ¾ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ - Ğ½Ğ°Ğ¿Ğ¸ÑˆÑ–Ñ‚ÑŒ Ñ—Ñ…, Ğ±ÑƒĞ´ÑŒ Ğ»Ğ°ÑĞºĞ°, Ğ·Ğ°Ñ€Ğ°Ğ·."

Ğ”ĞĞ¡Ğ¢ĞĞ’ĞšĞ:
- Ğ—Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ - ĞĞ¾Ğ²Ğ° ĞŸĞ¾ÑˆÑ‚Ğ°
- Ğ—Ğ° Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ¾Ğ¼ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ° - Ğ£ĞºÑ€Ğ¿Ğ¾ÑˆÑ‚Ğ°
- Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ñ€Ğ¾Ñ‚ÑĞ³Ğ¾Ğ¼ 3 Ğ´Ğ½Ñ–Ğ²
- ĞĞµ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ÑƒÑ”Ğ¼Ğ¾ Ğ¿Ñ–ÑĞ»Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸

ĞšĞĞĞ¢ĞĞšĞ¢Ğ˜ (Ğ´Ğ°Ğ²Ğ°Ğ¹ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ ÑĞºÑ‰Ğ¾ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ¿Ğ¸Ñ‚Ğ°Ñ”):
ğŸ“± Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: 067-392-06-82
ğŸ’¬ Telegram: @zerschikov
ğŸŒ Ğ¡Ğ°Ğ¹Ñ‚: zerschikov.online

YOUTUBE ĞšĞĞĞĞ› (Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ğ½ÑƒĞ¹ ĞŸĞ†Ğ¡Ğ›Ğ¯ ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ñ–Ñ— Ğ°Ğ±Ğ¾ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸):
ğŸ“º YouTube: https://www.youtube.com/@instructor_zerschikov
"Ğ”Ğ¾ Ñ€ĞµÑ‡Ñ–, Ñƒ ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğ° Ñ” Ñ‡ÑƒĞ´Ğ¾Ğ²Ğ¸Ğ¹ YouTube ĞºĞ°Ğ½Ğ°Ğ» Ğ· ĞºĞ¾Ñ€Ğ¸ÑĞ½Ğ¸Ğ¼Ğ¸ Ğ¿Ğ¾Ñ€Ğ°Ğ´Ğ°Ğ¼Ğ¸ Ğ¿Ñ€Ğ¾ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ! ĞŸÑ–Ğ´Ğ¿Ğ¸ÑˆÑ–Ñ‚ÑŒÑÑ, Ñ‰Ğ¾Ğ± Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ñ– Ğ²Ñ–Ğ´ĞµĞ¾: https://www.youtube.com/@instructor_zerschikov ğŸ¥"

ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ:
âœ… Ğ‘ÑƒĞ´ÑŒ Ğ´Ñ€ÑƒĞ¶Ğ½Ñ–Ğ¼ Ñ– Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ°Ğ³Ğ°Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸ ĞºÑƒÑ€Ñ
âœ… ĞĞµ Ğ²Ğ¸Ğ³Ğ°Ğ´ÑƒĞ¹ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ - Ñ” Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ñ‚Ğµ, Ñ‰Ğ¾ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾ Ğ²Ğ¸Ñ‰Ğµ
âœ… Ğ—Ğ°Ğ²Ğ¶Ğ´Ğ¸ Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ¿Ñ€ÑĞ¼Ğµ Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ, ĞºĞ¾Ğ»Ğ¸ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¹
âœ… Ğ”Ğ»Ñ Ğ·Ğ¾ÑˆĞ¸Ñ‚Ñ–Ğ² ĞĞ‘ĞĞ’'Ğ¯Ğ—ĞšĞĞ’Ğ Ğ¿Ğ¸Ñ‚Ğ°Ğ¹ Ğ°Ğ´Ñ€ĞµÑÑƒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸
âœ… ĞŸÑ–ÑĞ»Ñ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ğ½ÑƒĞ¹ YouTube
âœ… Ğ¯ĞºÑ‰Ğ¾ Ğ½Ğµ Ğ·Ğ½Ğ°Ñ”Ñˆ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– - Ğ·Ğ°Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ğ½ÑƒĞ¹ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ñƒ Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ğ¾

Ğ¡Ğ¢Ğ˜Ğ›Ğ¬ Ğ¡ĞŸĞ†Ğ›ĞšĞ£Ğ’ĞĞĞĞ¯:
- Ğ”Ñ€ÑƒĞ¶Ğ½Ñ–Ğ¹, Ğ°Ğ»Ğµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ğ¸Ğ¹
- ĞĞ° "Ñ‚Ğ¸" (Ğ½ĞµÑ„Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾)
- Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹ ĞµĞ¼Ğ¾Ğ´Ğ·Ñ– Ğ¿Ğ¾Ğ¼Ñ–Ñ€Ğ½Ğ¾ (1-2 Ğ½Ğ° Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ)
- ĞŸĞ¸ÑˆĞ¸ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¼Ğ¸ Ğ°Ğ±Ğ·Ğ°Ñ†Ğ°Ğ¼Ğ¸ Ğ´Ğ»Ñ Ğ·Ñ€ÑƒÑ‡Ğ½Ğ¾ÑÑ‚Ñ– Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ
- ĞĞµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞ¹ Ğ¾Ğ´Ğ½Ñƒ Ğ¹ Ñ‚Ñƒ ÑĞ°Ğ¼Ñƒ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ ĞºÑ–Ğ»ÑŒĞºĞ° Ñ€Ğ°Ğ·Ñ–Ğ²`;

// ============================================
// Ğ†ĞĞ†Ğ¦Ğ†ĞĞ›Ğ†Ğ—ĞĞ¦Ğ†Ğ¯
// ============================================

const bot = new TelegramBot(TELEGRAM_BOT_TOKEN, { polling: true });
const openai = new OpenAI({ apiKey: OPENAI_API_KEY });

// Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ğ½Ğ½Ñ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ— Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñ–Ğ²
const conversations = new Map();

// ============================================
// Ğ¤Ğ£ĞĞšĞ¦Ğ†Ğ‡
// ============================================

// ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñƒ
function getConversationHistory(chatId) {
  if (!conversations.has(chatId)) {
    conversations.set(chatId, [
      { role: 'system', content: SYSTEM_PROMPT }
    ]);
  }
  return conversations.get(chatId);
}

// Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ²Ñ–Ğ´ AI
async function getAIResponse(chatId, userMessage) {
  const history = getConversationHistory(chatId);
  
  // Ğ”Ğ¾Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°
  history.push({ role: 'user', content: userMessage });
  
  try {
    const response = await openai.chat.completions.create({
      model: 'gpt-4',
      messages: history,
      temperature: 0.7,
      max_tokens: 1500
    });
    
    const aiMessage = response.choices[0].message.content;
    
    // Ğ”Ğ¾Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ AI Ğ² Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ
    history.push({ role: 'assistant', content: aiMessage });
    
    // ĞĞ±Ğ¼ĞµĞ¶ÑƒÑ”Ğ¼Ğ¾ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ (Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ– 20 Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ)
    if (history.length > 21) {
      conversations.set(chatId, [
        history[0], // Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚
        ...history.slice(-20)
      ]);
    }
    
    return aiMessage;
  } catch (error) {
    console.error('OpenAI Error:', error);
    
    if (error.code === 'insufficient_quota') {
      return 'Ğ’Ğ¸Ğ±Ğ°Ñ‡Ñ‚Ğµ, Ñƒ Ğ±Ğ¾Ñ‚Ğ° Ğ·Ğ°ĞºÑ–Ğ½Ñ‡Ğ¸Ğ²ÑÑ Ğ»Ñ–Ğ¼Ñ–Ñ‚ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ² Ğ´Ğ¾ AI. Ğ‘ÑƒĞ´ÑŒ Ğ»Ğ°ÑĞºĞ°, Ğ½Ğ°Ğ¿Ğ¸ÑˆÑ–Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼Ñƒ @zerschikov';
    }
    
    return 'Ğ’Ğ¸Ğ±Ğ°Ñ‡Ñ‚Ğµ, Ğ²Ğ¸Ğ½Ğ¸ĞºĞ»Ğ° Ñ‚Ğ¸Ğ¼Ñ‡Ğ°ÑĞ¾Ğ²Ğ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°. Ğ¡Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ñ‰Ğµ Ñ€Ğ°Ğ· Ğ°Ğ±Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑˆÑ–Ñ‚ÑŒ @zerschikov';
  }
}

// ĞĞ°Ğ´Ñ–ÑĞ»Ğ°Ñ‚Ğ¸ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ Ğ°Ğ´Ğ¼Ñ–Ğ½Ñƒ Ğ¿Ñ€Ğ¾ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ
function notifyAdmin(orderInfo) {
  const message = `
ğŸ”” ĞĞĞ’Ğ• Ğ—ĞĞœĞĞ’Ğ›Ğ•ĞĞĞ¯!

ğŸ‘¤ ĞšĞ»Ñ–Ñ”Ğ½Ñ‚: ${orderInfo.username}
ğŸ“± Chat ID: ${orderInfo.chatId}

ğŸ’¬ ĞÑÑ‚Ğ°Ğ½Ğ½Ñ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ:
"${orderInfo.userMessage}"

ğŸ¤– Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ±Ğ¾Ñ‚Ğ°:
"${orderInfo.botResponse.substring(0, 200)}..."

â° Ğ§Ğ°Ñ: ${new Date().toLocaleString('uk-UA', { timeZone: 'Europe/Kiev' })}
  `.trim();
  
  bot.sendMessage(ADMIN_CHAT_ID, message).catch(err => {
    console.error('ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½Ğ½Ñ Ğ°Ğ´Ğ¼Ñ–Ğ½Ñƒ:', err);
  });
}

// Ğ Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ñ‚Ğ¸ Ñ‡Ğ¸ Ñ” Ğ² Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ– Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ
function containsPaymentLink(message) {
  return message.includes('wayforpay.com/button/');
}

// ============================================
// ĞĞ‘Ğ ĞĞ‘ĞĞ˜ĞšĞ˜ ĞšĞĞœĞĞĞ”
// ============================================

// ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° /start
bot.onText(/\/start/, (msg) => {
  const chatId = msg.chat.id;
  const firstName = msg.from.first_name || 'Ğ´Ñ€ÑƒĞ¶Ğµ';
  
  const welcomeMessage = `
ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚, ${firstName}! ğŸ‘‹

Ğ¯ - AI-Ğ¿Ğ¾Ğ¼Ñ–Ñ‡Ğ½Ğ¸Ğº ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğ° Ğ—Ñ”Ñ€Ñ‰Ğ¸ĞºĞ¾Ğ²Ğ°, Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ğ¾Ğ³Ğ¾ Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ° Ğ· Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ.

ğŸ“š Ğ”Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶Ñƒ Ñ‚Ğ¾Ğ±Ñ–:
â€¢ ĞĞ±Ñ€Ğ°Ñ‚Ğ¸ ĞºÑƒÑ€Ñ Ğ´Ğ»Ñ Ğ½Ğ°Ğ²Ñ‡Ğ°Ğ½Ğ½Ñ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ
â€¢ Ğ Ğ¾Ğ·Ğ¿Ğ¾Ğ²Ñ–ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾ ĞºĞ¾Ğ¶ĞµĞ½ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾
â€¢ ĞÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ‚Ğ¸ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ

ğŸ¯ Ğ£ Ğ½Ğ°Ñ Ñ”:
â€¢ ĞšÑƒÑ€Ñ "ĞŸĞ”Ğ  Ğ·Ğ° 220 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½" (Ğ²Ñ–Ğ´ 880 Ğ³Ñ€Ğ½)
â€¢ ĞšÑƒÑ€Ñ "10 ĞºÑ€Ğ¾ĞºÑ–Ğ² Ğ´Ğ¾ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ" (Ğ²Ñ–Ğ´ 580 Ğ³Ñ€Ğ½)
â€¢ ĞšÑƒÑ€Ñ "ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¿Ñ€Ğ¾Ñ—Ğ·Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚ÑŒ" (480 Ğ³Ñ€Ğ½)
â€¢ Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚ Ğ· Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ¸ (360 Ğ³Ñ€Ğ½)
â€¢ Ğ Ğ¾Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚ Ğ· Ñ‚ĞµĞ¾Ñ€Ñ–Ñ— ĞŸĞ”Ğ  (370 Ğ³Ñ€Ğ½)

Ğ©Ğ¾ Ñ‚ĞµĞ±Ğµ Ñ†Ñ–ĞºĞ°Ğ²Ğ¸Ñ‚ÑŒ? ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸ ÑĞ²Ğ¾Ñ” Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ! ğŸ’¬
  `.trim();
  
  bot.sendMessage(chatId, welcomeMessage);
  
  // ĞÑ‡Ğ¸Ñ‰Ğ°Ñ”Ğ¼Ğ¾ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ñ–
  conversations.delete(chatId);
});

// ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° /menu - Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³
bot.onText(/\/menu/, (msg) => {
  const chatId = msg.chat.id;
  
  const menuMessage = `
ğŸ“š ĞšĞĞ¢ĞĞ›ĞĞ“ ĞŸĞ ĞĞ”Ğ£ĞšĞ¢Ğ†Ğ’

ğŸ“ ĞĞĞ›ĞĞ™Ğ ĞšĞ£Ğ Ğ¡Ğ˜:

1ï¸âƒ£ ĞŸĞ”Ğ  Ğ·Ğ° 220 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½
   ğŸ’° Ğ’Ñ–Ğ´ 880 Ğ³Ñ€Ğ½ | â± Ğ¨Ğ²Ğ¸Ğ´ĞºĞµ Ñ‚Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ğµ Ğ²Ğ¸Ğ²Ñ‡ĞµĞ½Ğ½Ñ
   ğŸ“Š 1200+ ÑƒÑ‡Ğ½Ñ–Ğ² | â­ï¸ 4.9/5

2ï¸âƒ£ 10 ĞºÑ€Ğ¾ĞºÑ–Ğ² Ğ´Ğ¾ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ
   ğŸ’° Ğ’Ñ–Ğ´ 580 Ğ³Ñ€Ğ½ | ğŸš— Ğ’Ñ–Ğ´ Ñ€ÑƒÑˆĞ°Ğ½Ğ½Ñ Ğ´Ğ¾ Ğ¿Ğ°Ñ€ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ
   ğŸ‘¥ Ğ”Ğ»Ñ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑ–Ğ²Ñ†Ñ–Ğ² Ñ‚Ğ° Ğ¿Ñ–ÑĞ»Ñ Ğ¿ĞµÑ€ĞµÑ€Ğ²Ğ¸

3ï¸âƒ£ ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¿Ñ€Ğ¾Ñ—Ğ·Ğ´Ñƒ Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚ÑŒ
   ğŸ’° 480 Ğ³Ñ€Ğ½ | ğŸš¦ Ğ§Ñ–Ñ‚ĞºĞ¸Ğ¹ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ½Ğ° Ğ¿ĞµÑ€ĞµÑ…Ñ€ĞµÑÑ‚Ñ–
   ğŸ¥ 6 Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ²Ñ–Ğ´ĞµĞ¾Ğ»ĞµĞºÑ†Ñ–Ğ¹

ğŸ““ Ğ”Ğ Ğ£ĞšĞĞ’ĞĞĞ† Ğ—ĞĞ¨Ğ˜Ğ¢Ğ˜:

4ï¸âƒ£ Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚ - 360 Ğ³Ñ€Ğ½
   ğŸ“„ 120 ĞºĞ¾Ğ»ÑŒĞ¾Ñ€Ğ¾Ğ²Ğ¸Ñ… ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ğ¾Ğº Ğ· Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½ÑĞ¼Ğ¸
   ğŸ“¦ Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° ĞĞ¾Ğ²Ğ¾Ñ ĞŸĞ¾ÑˆÑ‚Ğ¾Ñ Ğ·Ğ° 3 Ğ´Ğ½Ñ–

5ï¸âƒ£ Ğ Ğ¾Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚ Ğ· Ñ‚ĞµĞ¾Ñ€Ñ–Ñ— ĞŸĞ”Ğ  - 370 Ğ³Ñ€Ğ½
   ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ²Ñ‡ĞµĞ½Ğ½Ñ
   ğŸ¯ ĞŸÑ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ´Ğ¾ Ñ–ÑĞ¿Ğ¸Ñ‚Ñƒ Ğ² ĞœĞ’Ğ¡

ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñƒ Ğ°Ğ±Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¾Ğ¿Ğ¸ÑˆĞ¸, Ñ‰Ğ¾ Ñ‚ĞµĞ±Ğµ Ñ†Ñ–ĞºĞ°Ğ²Ğ¸Ñ‚ÑŒ! ğŸ¯
  `.trim();
  
  bot.sendMessage(chatId, menuMessage);
});

// ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° /contact - ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸
bot.onText(/\/contact/, (msg) => {
  const chatId = msg.chat.id;
  
  const contactMessage = `
ğŸ“ ĞšĞĞĞ¢ĞĞšĞ¢Ğ˜

ğŸ‘¨â€ğŸ« ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€ Ğ—Ñ”Ñ€Ñ‰Ğ¸ĞºĞ¾Ğ²
ĞŸÑ€Ğ¾Ñ„ĞµÑÑ–Ğ¹Ğ½Ğ¸Ğ¹ Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ Ğ· Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ

ğŸ“± Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: 067-392-06-82
ğŸ’¬ Telegram: @zerschikov

ğŸŒ Ğ¡Ğ°Ğ¹Ñ‚: zerschikov.online
ğŸ“º YouTube: https://www.youtube.com/@instructor_zerschikov

Ğ¯ĞºÑ‰Ğ¾ Ñƒ Ñ‚ĞµĞ±Ğµ ÑĞºĞ»Ğ°Ğ´Ğ½Ğµ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ Ğ°Ğ±Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ° Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ° ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ñ–Ñ - Ğ¿Ğ¸ÑˆĞ¸ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼Ñƒ ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ñƒ!
  `.trim();
  
  bot.sendMessage(chatId, contactMessage);
});

// ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° /help
bot.onText(/\/help/, (msg) => {
  const chatId = msg.chat.id;
  
  const helpMessage = `
â“ Ğ¯Ğš ĞšĞĞ Ğ˜Ğ¡Ğ¢Ğ£Ğ’ĞĞ¢Ğ˜Ğ¡Ğ¯ Ğ‘ĞĞ¢ĞĞœ

ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¸ÑˆĞ¸ Ğ¼ĞµĞ½Ñ– ÑĞº Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹Ğ½Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ¼Ñ–Ñ‡Ğ½Ğ¸ĞºÑƒ! ğŸ’¬

ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ Ğ¿Ğ¸Ñ‚Ğ°Ğ½ÑŒ:
â€¢ "Ğ¥Ğ¾Ñ‡Ñƒ Ğ²Ğ¸Ğ²Ñ‡Ğ¸Ñ‚Ğ¸ ĞŸĞ”Ğ  Ğ· Ğ½ÑƒĞ»Ñ"
â€¢ "Ğ¯ĞºĞ° Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ†Ñ Ğ¼Ñ–Ğ¶ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ°Ğ¼Ğ¸ Pro Ñ‚Ğ° ĞŸÑ€ĞµĞ¼Ñ–ÑƒĞ¼?"
â€¢ "ĞœĞµĞ½Ñ– Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±ĞµĞ½ ĞºÑƒÑ€Ñ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ´Ñ–Ğ½Ğ½Ñ"
â€¢ "Ğ¡ĞºÑ–Ğ»ÑŒĞºĞ¸ ĞºĞ¾ÑˆÑ‚ÑƒÑ” Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğ¸Ğ¹ Ğ·Ğ¾ÑˆĞ¸Ñ‚?"
â€¢ "Ğ¯Ğº ÑˆĞ²Ğ¸Ğ´ĞºĞ¾ Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ”Ñ‚Ğµ Ğ·Ğ¾ÑˆĞ¸Ñ‚Ğ¸?"

ğŸ“Œ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸:
/start - ĞŸĞ¾Ñ‡Ğ°Ñ‚Ğ¸ ÑĞ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ
/menu - ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ²ÑÑ–Ñ… Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ–Ğ²
/contact - ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ¸ ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğ°
/help - Ğ¦Ñ Ğ´Ğ¾Ğ²Ñ–Ğ´ĞºĞ°

Ğ¯ Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ½Ñ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶Ñƒ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸ Ğ½Ğ°Ğ¹ĞºÑ€Ğ°Ñ‰Ğ¸Ğ¹ Ğ²Ğ°Ñ€Ñ–Ğ°Ğ½Ñ‚ Ğ´Ğ»Ñ Ñ‚ĞµĞ±Ğµ! ğŸ¯
  `.trim();
  
  bot.sendMessage(chatId, helpMessage);
});

// ============================================
// ĞĞ‘Ğ ĞĞ‘ĞšĞ Ğ—Ğ’Ğ˜Ğ§ĞĞ™ĞĞ˜Ğ¥ ĞŸĞĞ’Ğ†Ğ”ĞĞœĞ›Ğ•ĞĞ¬
// ============================================

bot.on('message', async (msg) => {
  // Ğ†Ğ³Ğ½Ğ¾Ñ€ÑƒÑ”Ğ¼Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸ (Ğ²Ğ¾Ğ½Ğ¸ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ñ– Ğ²Ğ¸Ñ‰Ğµ)
  if (msg.text && msg.text.startsWith('/')) return;
  
  const chatId = msg.chat.id;
  const userMessage = msg.text;
  
  if (!userMessage) return;
  
  // ĞŸĞ¾ĞºĞ°Ğ·ÑƒÑ”Ğ¼Ğ¾ Ñ–Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ "Ğ´Ñ€ÑƒĞºÑƒÑ”..."
  bot.sendChatAction(chatId, 'typing');
  
  try {
    // ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒÑ”Ğ¼Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ²Ñ–Ğ´ AI
    const aiResponse = await getAIResponse(chatId, userMessage);
    
    // ĞĞ°Ğ´ÑĞ¸Ğ»Ğ°Ñ”Ğ¼Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ
    await bot.sendMessage(chatId, aiResponse, {
      disable_web_page_preview: false
    });
    
    // Ğ¯ĞºÑ‰Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ - ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰Ğ°Ñ”Ğ¼Ğ¾ Ğ°Ğ´Ğ¼Ñ–Ğ½Ğ°
    if (containsPaymentLink(aiResponse)) {
      const username = msg.from.username 
        ? `@${msg.from.username}` 
        : `${msg.from.first_name || ''} ${msg.from.last_name || ''}`.trim();
      
      notifyAdmin({
        chatId,
        username,
        userMessage,
        botResponse: aiResponse
      });
    }
    
  } catch (error) {
    console.error('Bot Error:', error);
    
    let errorMessage = 'Ğ’Ğ¸Ğ±Ğ°Ñ‡Ñ‚Ğµ, ÑÑ‚Ğ°Ğ»Ğ°ÑÑ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°. Ğ¡Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ñ‰Ğµ Ñ€Ğ°Ğ· Ğ°Ğ±Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑˆÑ–Ñ‚ÑŒ @zerschikov';
    
    if (error.response && error.response.body) {
      console.error('Telegram API Error:', error.response.body);
    }
    
    bot.sendMessage(chatId, errorMessage);
  }
});

// ============================================
// Ğ—ĞĞŸĞ£Ğ¡Ğš Ğ‘ĞĞ¢Ğ
// ============================================

console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
console.log('â•‘  ğŸ¤– TELEGRAM Ğ‘ĞĞ¢ Ğ—ĞĞŸĞ£Ğ©Ğ•ĞĞ!         â•‘');
console.log('â•‘                                      â•‘');
console.log('â•‘  ğŸ‘¨â€ğŸ« ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€ Ğ—Ñ”Ñ€Ñ‰Ğ¸ĞºĞ¾Ğ²            â•‘');
console.log('â•‘  ğŸ“š ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½-ĞºÑƒÑ€ÑÑ–Ğ²           â•‘');
console.log('â•‘                                      â•‘');
console.log('â•‘  âœ… AI: ĞŸÑ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾                  â•‘');
console.log('â•‘  âœ… Telegram: ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹              â•‘');
console.log('â•‘  ğŸ‘‹ ĞÑ‡Ñ–ĞºÑƒÑ Ğ½Ğ° Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ...      â•‘');
console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

// ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº
bot.on('polling_error', (error) => {
  console.error('âŒ Polling error:', error.code, error.message);
});

process.on('uncaughtException', (error) => {
  console.error('âŒ Uncaught Exception:', error);
});

process.on('unhandledRejection', (error) => {
  console.error('âŒ Unhandled Rejection:', error);
});
